

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Program Listing for File Input.h &mdash; TRAP 0.6.44 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/TRAPWhiteLogo64x64.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script type="text/javascript" src="../_static/collapsible-lists\js\CollapsibleLists.compressed.js"></script>
        <script type="text/javascript" src="../_static/collapsible-lists\js\apply-collapsible-lists.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within TRAP 0.6.44 documentation"
          href="../_static/opensearch.xml"/>

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  <link rel="stylesheet" href="../_static/rtd_dark.css" type="text/css" />
  <link rel="stylesheet" href="../_static/collapsible-lists\css\tree_view.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link href="../_static/theme.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/TRAPWhiteLogo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">TRAP:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">TRAP Engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/buildingtrap.html">Building TRAP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/gettingstarted.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="trapdocs.html">TRAP Docs</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">TRAP</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Program Listing for File Input.h</li>
    
    

  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="program-listing-for-file-input-h">
<span id="program-listing-file-trap-src-input-input-h"></span><h1>Program Listing for File Input.h<a class="headerlink" href="#program-listing-for-file-input-h" title="Permalink to this headline">¶</a></h1>
<p>↰ <a class="reference internal" href="file_TRAP_src_Input_Input.h.html#file-trap-src-input-input-h"><span class="std std-ref">Return to documentation for file</span></a> (<code class="docutils literal notranslate"><span class="pre">TRAP\src\Input\Input.h</span></code>)</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cm">/*</span>
<span class="cm">Copyright (c) 2002-2006 Marcus Geelnard</span>

<span class="cm">Copyright (c) 2006-2019 Camilla Loewy</span>

<span class="cm">This software is provided &#39;as-is&#39;, without any express or implied</span>
<span class="cm">warranty. In no event will the authors be held liable for any damages</span>
<span class="cm">arising from the use of this software.</span>

<span class="cm">Permission is granted to anyone to use this software for any purpose,</span>
<span class="cm">including commercial applications, and to alter it and redistribute it</span>
<span class="cm">freely, subject to the following restrictions:</span>

<span class="cm">1. The origin of this software must not be misrepresented; you must not</span>
<span class="cm">   claim that you wrote the original software. If you use this software</span>
<span class="cm">   in a product, an acknowledgment in the product documentation would</span>
<span class="cm">   be appreciated but is not required.</span>

<span class="cm">2. Altered source versions must be plainly marked as such, and must not</span>
<span class="cm">   be misrepresented as being the original software.</span>

<span class="cm">3. This notice may not be removed or altered from any source</span>
<span class="cm">   distribution.</span>

<span class="cm">Modified by: Jan &quot;GamesTrap&quot; Schuerkamp</span>
<span class="cm">The above license only applies to some of the Controller specific parts of this file!</span>
<span class="cm">*/</span>

<span class="cp">#ifndef _TRAP_INPUT_H_</span>
<span class="cp">#define _TRAP_INPUT_H_</span>

<span class="cp">#include</span> <span class="cpf">&quot;Maths/Math.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Event/Event.h&quot;</span><span class="cp"></span>

<span class="k">namespace</span> <span class="n">TRAP</span>
<span class="p">{</span>
    <span class="k">class</span> <span class="nc">Application</span><span class="p">;</span>

    <span class="k">namespace</span> <span class="n">INTERNAL</span>
    <span class="p">{</span>
        <span class="k">class</span> <span class="nc">WindowingAPI</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">class</span> <span class="nc">Window</span><span class="p">;</span>

    <span class="k">class</span> <span class="nc">Input</span> <span class="k">final</span>
    <span class="p">{</span>
    <span class="k">public</span><span class="o">:</span>
        <span class="n">Input</span><span class="p">()</span> <span class="o">=</span> <span class="k">delete</span><span class="p">;</span>
        <span class="o">~</span><span class="n">Input</span><span class="p">()</span> <span class="o">=</span> <span class="k">default</span><span class="p">;</span>

        <span class="n">Input</span><span class="p">(</span><span class="k">const</span> <span class="n">Input</span><span class="o">&amp;</span><span class="p">)</span> <span class="o">=</span> <span class="k">delete</span><span class="p">;</span>
        <span class="n">Input</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="k">const</span> <span class="n">Input</span><span class="o">&amp;</span><span class="p">)</span> <span class="o">=</span> <span class="k">delete</span><span class="p">;</span>
        <span class="n">Input</span><span class="p">(</span><span class="n">Input</span><span class="o">&amp;&amp;</span><span class="p">)</span> <span class="o">=</span> <span class="k">delete</span><span class="p">;</span>
        <span class="n">Input</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="n">Input</span><span class="o">&amp;&amp;</span><span class="p">)</span> <span class="o">=</span> <span class="k">delete</span><span class="p">;</span>

        <span class="k">enum</span> <span class="k">class</span> <span class="nc">Key</span>
        <span class="p">{</span>
            <span class="n">Unknown</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>

            <span class="n">Space</span>          <span class="o">=</span> <span class="mi">32</span><span class="p">,</span>
            <span class="n">Apostrophe</span>     <span class="o">=</span> <span class="mi">39</span><span class="p">,</span>
            <span class="n">Comma</span>          <span class="o">=</span> <span class="mi">44</span><span class="p">,</span>
            <span class="n">Minus</span>          <span class="o">=</span> <span class="mi">45</span><span class="p">,</span>
            <span class="n">Period</span>         <span class="o">=</span> <span class="mi">46</span><span class="p">,</span>
            <span class="n">Slash</span>          <span class="o">=</span> <span class="mi">47</span><span class="p">,</span>
            <span class="n">Zero</span>           <span class="o">=</span> <span class="mi">48</span><span class="p">,</span>
            <span class="n">One</span>            <span class="o">=</span> <span class="mi">49</span><span class="p">,</span>
            <span class="n">Two</span>            <span class="o">=</span> <span class="mi">50</span><span class="p">,</span>
            <span class="n">Three</span>          <span class="o">=</span> <span class="mi">51</span><span class="p">,</span>
            <span class="n">Four</span>           <span class="o">=</span> <span class="mi">52</span><span class="p">,</span>
            <span class="n">Five</span>           <span class="o">=</span> <span class="mi">53</span><span class="p">,</span>
            <span class="n">Six</span>            <span class="o">=</span> <span class="mi">54</span><span class="p">,</span>
            <span class="n">Seven</span>          <span class="o">=</span> <span class="mi">55</span><span class="p">,</span>
            <span class="n">Eight</span>          <span class="o">=</span> <span class="mi">56</span><span class="p">,</span>
            <span class="n">Nine</span>           <span class="o">=</span> <span class="mi">57</span><span class="p">,</span>
            <span class="n">Semicolon</span>      <span class="o">=</span> <span class="mi">59</span><span class="p">,</span>
            <span class="n">Equal</span>          <span class="o">=</span> <span class="mi">61</span><span class="p">,</span>
            <span class="n">A</span>              <span class="o">=</span> <span class="mi">65</span><span class="p">,</span>
            <span class="n">B</span>              <span class="o">=</span> <span class="mi">66</span><span class="p">,</span>
            <span class="n">C</span>              <span class="o">=</span> <span class="mi">67</span><span class="p">,</span>
            <span class="n">D</span>              <span class="o">=</span> <span class="mi">68</span><span class="p">,</span>
            <span class="n">E</span>              <span class="o">=</span> <span class="mi">69</span><span class="p">,</span>
            <span class="n">F</span>              <span class="o">=</span> <span class="mi">70</span><span class="p">,</span>
            <span class="n">G</span>              <span class="o">=</span> <span class="mi">71</span><span class="p">,</span>
            <span class="n">H</span>              <span class="o">=</span> <span class="mi">72</span><span class="p">,</span>
            <span class="n">I</span>              <span class="o">=</span> <span class="mi">73</span><span class="p">,</span>
            <span class="n">J</span>              <span class="o">=</span> <span class="mi">74</span><span class="p">,</span>
            <span class="n">K</span>              <span class="o">=</span> <span class="mi">75</span><span class="p">,</span>
            <span class="n">L</span>              <span class="o">=</span> <span class="mi">76</span><span class="p">,</span>
            <span class="n">M</span>              <span class="o">=</span> <span class="mi">77</span><span class="p">,</span>
            <span class="n">N</span>              <span class="o">=</span> <span class="mi">78</span><span class="p">,</span>
            <span class="n">O</span>              <span class="o">=</span> <span class="mi">79</span><span class="p">,</span>
            <span class="n">P</span>              <span class="o">=</span> <span class="mi">80</span><span class="p">,</span>
            <span class="n">Q</span>              <span class="o">=</span> <span class="mi">81</span><span class="p">,</span>
            <span class="n">R</span>              <span class="o">=</span> <span class="mi">82</span><span class="p">,</span>
            <span class="n">S</span>              <span class="o">=</span> <span class="mi">83</span><span class="p">,</span>
            <span class="n">T</span>              <span class="o">=</span> <span class="mi">84</span><span class="p">,</span>
            <span class="n">U</span>              <span class="o">=</span> <span class="mi">85</span><span class="p">,</span>
            <span class="n">V</span>              <span class="o">=</span> <span class="mi">86</span><span class="p">,</span>
            <span class="n">W</span>              <span class="o">=</span> <span class="mi">87</span><span class="p">,</span>
            <span class="n">X</span>              <span class="o">=</span> <span class="mi">88</span><span class="p">,</span>
            <span class="n">Y</span>              <span class="o">=</span> <span class="mi">89</span><span class="p">,</span>
            <span class="n">Z</span>              <span class="o">=</span> <span class="mi">90</span><span class="p">,</span>
            <span class="n">Left_Bracket</span>   <span class="o">=</span> <span class="mi">91</span><span class="p">,</span>
            <span class="n">Backslash</span>      <span class="o">=</span> <span class="mi">92</span><span class="p">,</span>
            <span class="n">Right_Bracket</span>  <span class="o">=</span> <span class="mi">93</span><span class="p">,</span>
            <span class="n">Grave_Accent</span>   <span class="o">=</span> <span class="mi">96</span><span class="p">,</span>
            <span class="n">World_1</span>        <span class="o">=</span> <span class="mi">161</span><span class="p">,</span>
            <span class="n">World_2</span>        <span class="o">=</span> <span class="mi">162</span><span class="p">,</span>

            <span class="cm">/* Function keys */</span>
            <span class="n">Escape</span>         <span class="o">=</span> <span class="mi">256</span><span class="p">,</span>
            <span class="n">Enter</span>          <span class="o">=</span> <span class="mi">257</span><span class="p">,</span>
            <span class="n">Tab</span>            <span class="o">=</span> <span class="mi">258</span><span class="p">,</span>
            <span class="n">Backspace</span>      <span class="o">=</span> <span class="mi">259</span><span class="p">,</span>
            <span class="n">Insert</span>         <span class="o">=</span> <span class="mi">260</span><span class="p">,</span>
            <span class="n">Delete</span>         <span class="o">=</span> <span class="mi">261</span><span class="p">,</span>
            <span class="n">Right</span>          <span class="o">=</span> <span class="mi">262</span><span class="p">,</span>
            <span class="n">Left</span>           <span class="o">=</span> <span class="mi">263</span><span class="p">,</span>
            <span class="n">Down</span>           <span class="o">=</span> <span class="mi">264</span><span class="p">,</span>
            <span class="n">Up</span>             <span class="o">=</span> <span class="mi">265</span><span class="p">,</span>
            <span class="n">Page_Up</span>        <span class="o">=</span> <span class="mi">266</span><span class="p">,</span>
            <span class="n">Page_Down</span>      <span class="o">=</span> <span class="mi">267</span><span class="p">,</span>
            <span class="n">Home</span>           <span class="o">=</span> <span class="mi">268</span><span class="p">,</span>
            <span class="n">End</span>            <span class="o">=</span> <span class="mi">269</span><span class="p">,</span>
            <span class="n">Caps_Lock</span>      <span class="o">=</span> <span class="mi">280</span><span class="p">,</span>
            <span class="n">Scroll_Lock</span>    <span class="o">=</span> <span class="mi">281</span><span class="p">,</span>
            <span class="n">Num_Lock</span>       <span class="o">=</span> <span class="mi">282</span><span class="p">,</span>
            <span class="n">Print_Screen</span>   <span class="o">=</span> <span class="mi">283</span><span class="p">,</span>
            <span class="n">Pause</span>          <span class="o">=</span> <span class="mi">284</span><span class="p">,</span>
            <span class="n">F1</span>             <span class="o">=</span> <span class="mi">290</span><span class="p">,</span>
            <span class="n">F2</span>             <span class="o">=</span> <span class="mi">291</span><span class="p">,</span>
            <span class="n">F3</span>             <span class="o">=</span> <span class="mi">292</span><span class="p">,</span>
            <span class="n">F4</span>             <span class="o">=</span> <span class="mi">293</span><span class="p">,</span>
            <span class="n">F5</span>             <span class="o">=</span> <span class="mi">294</span><span class="p">,</span>
            <span class="n">F6</span>             <span class="o">=</span> <span class="mi">295</span><span class="p">,</span>
            <span class="n">F7</span>             <span class="o">=</span> <span class="mi">296</span><span class="p">,</span>
            <span class="n">F8</span>             <span class="o">=</span> <span class="mi">297</span><span class="p">,</span>
            <span class="n">F9</span>             <span class="o">=</span> <span class="mi">298</span><span class="p">,</span>
            <span class="n">F10</span>            <span class="o">=</span> <span class="mi">299</span><span class="p">,</span>
            <span class="n">F11</span>            <span class="o">=</span> <span class="mi">300</span><span class="p">,</span>
            <span class="n">F12</span>            <span class="o">=</span> <span class="mi">301</span><span class="p">,</span>
            <span class="n">F13</span>            <span class="o">=</span> <span class="mi">302</span><span class="p">,</span>
            <span class="n">F14</span>            <span class="o">=</span> <span class="mi">303</span><span class="p">,</span>
            <span class="n">F15</span>            <span class="o">=</span> <span class="mi">304</span><span class="p">,</span>
            <span class="n">F16</span>            <span class="o">=</span> <span class="mi">305</span><span class="p">,</span>
            <span class="n">F17</span>            <span class="o">=</span> <span class="mi">306</span><span class="p">,</span>
            <span class="n">F18</span>            <span class="o">=</span> <span class="mi">307</span><span class="p">,</span>
            <span class="n">F19</span>            <span class="o">=</span> <span class="mi">308</span><span class="p">,</span>
            <span class="n">F20</span>            <span class="o">=</span> <span class="mi">309</span><span class="p">,</span>
            <span class="n">F21</span>            <span class="o">=</span> <span class="mi">310</span><span class="p">,</span>
            <span class="n">F22</span>            <span class="o">=</span> <span class="mi">311</span><span class="p">,</span>
            <span class="n">F23</span>            <span class="o">=</span> <span class="mi">312</span><span class="p">,</span>
            <span class="n">F24</span>            <span class="o">=</span> <span class="mi">313</span><span class="p">,</span>
            <span class="n">F25</span>            <span class="o">=</span> <span class="mi">314</span><span class="p">,</span>
            <span class="n">KP_0</span>           <span class="o">=</span> <span class="mi">320</span><span class="p">,</span>
            <span class="n">KP_1</span>           <span class="o">=</span> <span class="mi">321</span><span class="p">,</span>
            <span class="n">KP_2</span>           <span class="o">=</span> <span class="mi">322</span><span class="p">,</span>
            <span class="n">KP_3</span>           <span class="o">=</span> <span class="mi">323</span><span class="p">,</span>
            <span class="n">KP_4</span>           <span class="o">=</span> <span class="mi">324</span><span class="p">,</span>
            <span class="n">KP_5</span>           <span class="o">=</span> <span class="mi">325</span><span class="p">,</span>
            <span class="n">KP_6</span>           <span class="o">=</span> <span class="mi">326</span><span class="p">,</span>
            <span class="n">KP_7</span>           <span class="o">=</span> <span class="mi">327</span><span class="p">,</span>
            <span class="n">KP_8</span>           <span class="o">=</span> <span class="mi">328</span><span class="p">,</span>
            <span class="n">KP_9</span>           <span class="o">=</span> <span class="mi">329</span><span class="p">,</span>
            <span class="n">KP_Decimal</span>     <span class="o">=</span> <span class="mi">330</span><span class="p">,</span>
            <span class="n">KP_Divide</span>      <span class="o">=</span> <span class="mi">331</span><span class="p">,</span>
            <span class="n">KP_Multiply</span>    <span class="o">=</span> <span class="mi">332</span><span class="p">,</span>
            <span class="n">KP_Subtract</span>    <span class="o">=</span> <span class="mi">333</span><span class="p">,</span>
            <span class="n">KP_Add</span>         <span class="o">=</span> <span class="mi">334</span><span class="p">,</span>
            <span class="n">KP_Enter</span>       <span class="o">=</span> <span class="mi">335</span><span class="p">,</span>
            <span class="n">KP_Equal</span>       <span class="o">=</span> <span class="mi">336</span><span class="p">,</span>
            <span class="n">Left_Shift</span>     <span class="o">=</span> <span class="mi">340</span><span class="p">,</span>
            <span class="n">Left_Control</span>   <span class="o">=</span> <span class="mi">341</span><span class="p">,</span>
            <span class="n">Left_ALT</span>       <span class="o">=</span> <span class="mi">342</span><span class="p">,</span>
            <span class="n">Left_Super</span>     <span class="o">=</span> <span class="mi">343</span><span class="p">,</span>
            <span class="n">Right_Shift</span>    <span class="o">=</span> <span class="mi">344</span><span class="p">,</span>
            <span class="n">Right_Control</span>  <span class="o">=</span> <span class="mi">345</span><span class="p">,</span>
            <span class="n">Right_ALT</span>      <span class="o">=</span> <span class="mi">346</span><span class="p">,</span>
            <span class="n">Right_Super</span>    <span class="o">=</span> <span class="mi">347</span><span class="p">,</span>
            <span class="n">Menu</span>           <span class="o">=</span> <span class="mi">348</span>
        <span class="p">};</span>

        <span class="k">enum</span> <span class="k">class</span> <span class="nc">MouseButton</span>
        <span class="p">{</span>
            <span class="n">One</span>    <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
            <span class="n">Two</span>    <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
            <span class="n">Three</span>  <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
            <span class="n">Four</span>   <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
            <span class="n">Five</span>   <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
            <span class="n">Six</span>    <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
            <span class="n">Seven</span>  <span class="o">=</span> <span class="mi">6</span><span class="p">,</span>
            <span class="n">Eight</span>  <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
            <span class="n">Left</span>   <span class="o">=</span> <span class="n">One</span><span class="p">,</span>
            <span class="n">Right</span>  <span class="o">=</span> <span class="n">Two</span><span class="p">,</span>
            <span class="n">Middle</span> <span class="o">=</span> <span class="n">Three</span>
        <span class="p">};</span>

        <span class="k">enum</span> <span class="k">class</span> <span class="nc">Controller</span>
        <span class="p">{</span>
            <span class="n">One</span>      <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
            <span class="n">Two</span>      <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
            <span class="n">Three</span>    <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
            <span class="n">Four</span>     <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
            <span class="n">Five</span>     <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
            <span class="n">Six</span>      <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
            <span class="n">Seven</span>    <span class="o">=</span> <span class="mi">6</span><span class="p">,</span>
            <span class="n">Eight</span>    <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
            <span class="n">Nine</span>     <span class="o">=</span> <span class="mi">8</span><span class="p">,</span>
            <span class="n">Ten</span>      <span class="o">=</span> <span class="mi">9</span><span class="p">,</span>
            <span class="n">Eleven</span>   <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
            <span class="n">Twelve</span>   <span class="o">=</span> <span class="mi">11</span><span class="p">,</span>
            <span class="n">Thirteen</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span>
            <span class="n">Fourteen</span> <span class="o">=</span> <span class="mi">13</span><span class="p">,</span>
            <span class="n">Fifteen</span>  <span class="o">=</span> <span class="mi">14</span><span class="p">,</span>
            <span class="n">Sixteen</span>  <span class="o">=</span> <span class="mi">15</span>
        <span class="p">};</span>

        <span class="k">enum</span> <span class="k">class</span> <span class="nc">ControllerAxis</span>
        <span class="p">{</span>
            <span class="n">Left_X</span>        <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
            <span class="n">Left_Y</span>        <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
            <span class="n">Right_X</span>       <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
            <span class="n">Right_Y</span>       <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
            <span class="n">Left_Trigger</span>  <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
            <span class="n">Right_Trigger</span> <span class="o">=</span> <span class="mi">5</span>
        <span class="p">};</span>

        <span class="k">enum</span> <span class="k">class</span> <span class="nc">ControllerButton</span>
        <span class="p">{</span>
            <span class="n">A</span>            <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
            <span class="n">B</span>            <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
            <span class="n">X</span>            <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
            <span class="n">Y</span>            <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
            <span class="n">Left_Bumper</span>  <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
            <span class="n">Right_Bumper</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
            <span class="n">Back</span>         <span class="o">=</span> <span class="mi">6</span><span class="p">,</span>
            <span class="n">Start</span>        <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
            <span class="n">Guide</span>        <span class="o">=</span> <span class="mi">8</span><span class="p">,</span>
            <span class="n">Left_Thumb</span>   <span class="o">=</span> <span class="mi">9</span><span class="p">,</span>
            <span class="n">Right_Thumb</span>  <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
            <span class="n">DPad_Up</span>      <span class="o">=</span> <span class="mi">11</span><span class="p">,</span>
            <span class="n">DPad_Right</span>   <span class="o">=</span> <span class="mi">12</span><span class="p">,</span>
            <span class="n">DPad_Down</span>    <span class="o">=</span> <span class="mi">13</span><span class="p">,</span>
            <span class="n">DPad_Left</span>    <span class="o">=</span> <span class="mi">14</span><span class="p">,</span>
            <span class="n">Cross</span>        <span class="o">=</span> <span class="n">A</span><span class="p">,</span>
            <span class="n">Circle</span>       <span class="o">=</span> <span class="n">B</span><span class="p">,</span>
            <span class="n">Square</span>       <span class="o">=</span> <span class="n">X</span><span class="p">,</span>
            <span class="n">Triangle</span>     <span class="o">=</span> <span class="n">Y</span>
        <span class="p">};</span>

        <span class="k">enum</span> <span class="k">class</span> <span class="nc">ControllerDPad</span>
        <span class="p">{</span>
            <span class="n">Centered</span>   <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
            <span class="n">Up</span>         <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
            <span class="n">Right</span>      <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
            <span class="n">Down</span>       <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
            <span class="n">Left</span>       <span class="o">=</span> <span class="mi">8</span><span class="p">,</span>
            <span class="n">Right_Up</span>   <span class="o">=</span> <span class="n">Right</span> <span class="o">|</span> <span class="n">Up</span><span class="p">,</span>
            <span class="n">Right_Down</span> <span class="o">=</span> <span class="n">Right</span> <span class="o">|</span> <span class="n">Down</span><span class="p">,</span>
            <span class="n">Left_Up</span>    <span class="o">=</span> <span class="n">Left</span> <span class="o">|</span> <span class="n">Up</span><span class="p">,</span>
            <span class="n">Left_Down</span>  <span class="o">=</span> <span class="n">Left</span> <span class="o">|</span> <span class="n">Down</span>
        <span class="p">};</span>

        <span class="k">static</span> <span class="kt">bool</span> <span class="nf">IsKeyPressed</span><span class="p">(</span><span class="n">Key</span> <span class="n">key</span><span class="p">);</span>
        <span class="k">static</span> <span class="kt">bool</span> <span class="nf">IsKeyPressed</span><span class="p">(</span><span class="n">Key</span> <span class="n">key</span><span class="p">,</span> <span class="k">const</span> <span class="n">Scope</span><span class="o">&lt;</span><span class="n">Window</span><span class="o">&gt;&amp;</span> <span class="n">window</span><span class="p">);</span>
        <span class="k">static</span> <span class="kt">bool</span> <span class="nf">IsMouseButtonPressed</span><span class="p">(</span><span class="n">MouseButton</span> <span class="n">button</span><span class="p">);</span>
        <span class="k">static</span> <span class="kt">bool</span> <span class="nf">IsMouseButtonPressed</span><span class="p">(</span><span class="n">MouseButton</span> <span class="n">button</span><span class="p">,</span> <span class="k">const</span> <span class="n">Scope</span><span class="o">&lt;</span><span class="n">Window</span><span class="o">&gt;&amp;</span> <span class="n">window</span><span class="p">);</span>
        <span class="k">static</span> <span class="kt">bool</span> <span class="nf">IsRawMouseInputSupported</span><span class="p">();</span>
        <span class="k">static</span> <span class="kt">bool</span> <span class="nf">IsControllerConnected</span><span class="p">(</span><span class="n">Controller</span> <span class="n">controller</span><span class="p">);</span>
        <span class="k">static</span> <span class="kt">bool</span> <span class="nf">IsControllerGamepad</span><span class="p">(</span><span class="n">Controller</span> <span class="n">controller</span><span class="p">);</span>

        <span class="k">static</span> <span class="n">Math</span><span class="o">::</span><span class="n">Vec2</span> <span class="n">GetMousePosition</span><span class="p">();</span>
        <span class="k">static</span> <span class="n">Math</span><span class="o">::</span><span class="n">Vec2</span> <span class="n">GetMousePosition</span><span class="p">(</span><span class="k">const</span> <span class="n">Scope</span><span class="o">&lt;</span><span class="n">Window</span><span class="o">&gt;&amp;</span> <span class="n">window</span><span class="p">);</span>
        <span class="k">static</span> <span class="kt">float</span> <span class="nf">GetMouseX</span><span class="p">();</span>
        <span class="k">static</span> <span class="kt">float</span> <span class="nf">GetMouseY</span><span class="p">();</span>
        <span class="k">static</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">GetKeyName</span><span class="p">(</span><span class="n">Key</span> <span class="n">key</span><span class="p">);</span>
        <span class="k">static</span> <span class="kt">float</span> <span class="nf">GetControllerAxis</span><span class="p">(</span><span class="n">Controller</span> <span class="n">controller</span><span class="p">,</span> <span class="n">ControllerAxis</span> <span class="n">axis</span><span class="p">);</span>
        <span class="k">static</span> <span class="n">ControllerDPad</span> <span class="nf">GetControllerDPad</span><span class="p">(</span><span class="n">Controller</span> <span class="n">controller</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="n">dpad</span><span class="p">);</span>
        <span class="k">static</span> <span class="kt">bool</span> <span class="nf">GetControllerButton</span><span class="p">(</span><span class="n">Controller</span> <span class="n">controller</span><span class="p">,</span> <span class="n">ControllerButton</span> <span class="n">button</span><span class="p">);</span>
        <span class="k">static</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">GetControllerName</span><span class="p">(</span><span class="n">Controller</span> <span class="n">controller</span><span class="p">);</span>
        <span class="k">static</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">GetControllerGUID</span><span class="p">(</span><span class="n">Controller</span> <span class="n">controller</span><span class="p">);</span>
        <span class="k">static</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span> <span class="n">GetAllControllerAxes</span><span class="p">(</span><span class="n">Controller</span> <span class="n">controller</span><span class="p">);</span>
        <span class="k">static</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">GetAllControllerButtons</span><span class="p">(</span><span class="n">Controller</span> <span class="n">controller</span><span class="p">);</span>
        <span class="k">static</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">ControllerDPad</span><span class="o">&gt;</span> <span class="n">GetAllControllerDPads</span><span class="p">(</span><span class="n">Controller</span> <span class="n">controller</span><span class="p">);</span>

        <span class="k">static</span> <span class="kt">void</span> <span class="nf">SetControllerVibration</span><span class="p">(</span><span class="n">Controller</span> <span class="n">controller</span><span class="p">,</span> <span class="kt">float</span> <span class="n">leftMotor</span><span class="p">,</span> <span class="kt">float</span> <span class="n">rightMotor</span><span class="p">);</span>

        <span class="k">static</span> <span class="kt">void</span> <span class="nf">SetMousePosition</span><span class="p">(</span><span class="kt">float</span> <span class="n">x</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y</span><span class="p">);</span>
        <span class="k">static</span> <span class="kt">void</span> <span class="nf">SetMousePosition</span><span class="p">(</span><span class="kt">float</span> <span class="n">x</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y</span><span class="p">,</span> <span class="k">const</span> <span class="n">Scope</span><span class="o">&lt;</span><span class="n">Window</span><span class="o">&gt;&amp;</span> <span class="n">window</span><span class="p">);</span>

        <span class="k">static</span> <span class="kt">void</span> <span class="nf">SetClipboard</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">str</span><span class="p">);</span>
        <span class="k">static</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">GetClipboard</span><span class="p">();</span>

        <span class="k">using</span> <span class="n">EventCallbackFn</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">function</span><span class="o">&lt;</span><span class="kt">void</span><span class="p">(</span><span class="n">Events</span><span class="o">::</span><span class="n">Event</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">;</span>
        <span class="k">static</span> <span class="kt">void</span> <span class="nf">SetEventCallback</span><span class="p">(</span><span class="k">const</span> <span class="n">EventCallbackFn</span><span class="o">&amp;</span> <span class="n">callback</span><span class="p">);</span>

        <span class="k">static</span> <span class="kt">void</span> <span class="nf">UpdateControllerMappings</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">map</span><span class="p">);</span>

    <span class="k">private</span><span class="o">:</span>
        <span class="k">static</span> <span class="kt">void</span> <span class="n">Init</span><span class="p">();</span>
        <span class="k">static</span> <span class="kt">void</span> <span class="nf">Shutdown</span><span class="p">();</span>
        <span class="k">friend</span> <span class="k">class</span> <span class="nc">TRAP</span><span class="o">::</span><span class="n">Application</span><span class="p">;</span>

<span class="cp">#ifdef TRAP_PLATFORM_WINDOWS</span>
        <span class="k">static</span> <span class="kt">void</span> <span class="nf">DetectControllerConnectionWin32</span><span class="p">();</span>
        <span class="k">static</span> <span class="kt">void</span> <span class="nf">DetectControllerDisconnectionWin32</span><span class="p">();</span>
<span class="cp">#elif defined(TRAP_PLATFORM_LINUX)</span>
        <span class="k">static</span> <span class="kt">void</span> <span class="nf">DetectControllerConnectionLinux</span><span class="p">();</span>
<span class="cp">#endif</span>
        <span class="k">friend</span> <span class="k">class</span> <span class="nc">TRAP</span><span class="o">::</span><span class="n">INTERNAL</span><span class="o">::</span><span class="n">WindowingAPI</span><span class="p">;</span>

        <span class="k">static</span> <span class="k">constexpr</span> <span class="kt">uint32_t</span> <span class="n">Poll_Presence</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">static</span> <span class="k">constexpr</span> <span class="kt">uint32_t</span> <span class="n">Poll_Axes</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="k">static</span> <span class="k">constexpr</span> <span class="kt">uint32_t</span> <span class="n">Poll_Buttons</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
        <span class="k">static</span> <span class="k">constexpr</span> <span class="kt">uint32_t</span> <span class="n">Poll_All</span> <span class="o">=</span> <span class="p">(</span><span class="n">Poll_Axes</span> <span class="o">|</span> <span class="n">Poll_Buttons</span><span class="p">);</span>

        <span class="c1">//Universal API Methods</span>
        <span class="k">static</span> <span class="kt">bool</span> <span class="nf">InitController</span><span class="p">();</span>
        <span class="k">static</span> <span class="kt">void</span> <span class="nf">ShutdownController</span><span class="p">();</span>
        <span class="k">static</span> <span class="kt">void</span> <span class="nf">SetControllerVibrationInternal</span><span class="p">(</span><span class="n">Controller</span> <span class="n">controller</span><span class="p">,</span> <span class="kt">float</span> <span class="n">leftMotor</span><span class="p">,</span> <span class="kt">float</span> <span class="n">rightMotor</span><span class="p">);</span>
        <span class="k">static</span> <span class="kt">bool</span> <span class="nf">PollController</span><span class="p">(</span><span class="n">Controller</span> <span class="n">controller</span><span class="p">,</span> <span class="kt">int32_t</span> <span class="n">mode</span><span class="p">);</span>
        <span class="k">static</span> <span class="kt">void</span> <span class="nf">CloseController</span><span class="p">(</span><span class="n">Controller</span> <span class="n">controller</span><span class="p">);</span>
        <span class="k">static</span> <span class="kt">void</span> <span class="nf">UpdateControllerGUID</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">guid</span><span class="p">);</span>

<span class="cp">#ifdef TRAP_PLATFORM_WINDOWS</span>
        <span class="k">static</span> <span class="k">constexpr</span> <span class="n">std</span><span class="o">::</span><span class="n">string_view</span> <span class="n">MappingName</span> <span class="o">=</span> <span class="s">&quot;Windows&quot;</span><span class="p">;</span>
        <span class="c1">//DirectInput//</span>
        <span class="c1">//dinput8.dll function pointer typedefs</span>
        <span class="k">static</span> <span class="k">constexpr</span> <span class="kt">uint32_t</span> <span class="n">TRAP_TYPE_AXIS</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">static</span> <span class="k">constexpr</span> <span class="kt">uint32_t</span> <span class="n">TRAP_TYPE_SLIDER</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="k">static</span> <span class="k">constexpr</span> <span class="kt">uint32_t</span> <span class="n">TRAP_TYPE_BUTTON</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
        <span class="k">static</span> <span class="k">constexpr</span> <span class="kt">uint32_t</span> <span class="n">TRAP_TYPE_DPAD</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
        <span class="c1">//Define local copies of the necessary GUIDs</span>
        <span class="k">static</span> <span class="k">constexpr</span> <span class="n">GUID</span> <span class="n">TRAP_IID_IDirectInput8W</span> <span class="o">=</span>
        <span class="p">{</span> <span class="mh">0xbf798031</span><span class="p">,</span><span class="mh">0x483a</span><span class="p">,</span><span class="mh">0x4da2</span><span class="p">,{</span><span class="mh">0xaa</span><span class="p">,</span><span class="mh">0x99</span><span class="p">,</span><span class="mh">0x5d</span><span class="p">,</span><span class="mh">0x64</span><span class="p">,</span><span class="mh">0xed</span><span class="p">,</span><span class="mh">0x36</span><span class="p">,</span><span class="mh">0x97</span><span class="p">,</span><span class="mh">0x00</span><span class="p">}</span> <span class="p">};</span>
        <span class="k">static</span> <span class="k">constexpr</span> <span class="n">GUID</span> <span class="n">TRAP_GUID_XAxis</span> <span class="o">=</span>
        <span class="p">{</span> <span class="mh">0xa36d02e0</span><span class="p">,</span><span class="mh">0xc9f3</span><span class="p">,</span><span class="mh">0x11cf</span><span class="p">,{</span><span class="mh">0xbf</span><span class="p">,</span><span class="mh">0xc7</span><span class="p">,</span><span class="mh">0x44</span><span class="p">,</span><span class="mh">0x45</span><span class="p">,</span><span class="mh">0x53</span><span class="p">,</span><span class="mh">0x54</span><span class="p">,</span><span class="mh">0x00</span><span class="p">,</span><span class="mh">0x00</span><span class="p">}</span> <span class="p">};</span>
        <span class="k">static</span> <span class="k">constexpr</span> <span class="n">GUID</span> <span class="n">TRAP_GUID_YAxis</span> <span class="o">=</span>
        <span class="p">{</span> <span class="mh">0xa36d02e1</span><span class="p">,</span><span class="mh">0xc9f3</span><span class="p">,</span><span class="mh">0x11cf</span><span class="p">,{</span><span class="mh">0xbf</span><span class="p">,</span><span class="mh">0xc7</span><span class="p">,</span><span class="mh">0x44</span><span class="p">,</span><span class="mh">0x45</span><span class="p">,</span><span class="mh">0x53</span><span class="p">,</span><span class="mh">0x54</span><span class="p">,</span><span class="mh">0x00</span><span class="p">,</span><span class="mh">0x00</span><span class="p">}</span> <span class="p">};</span>
        <span class="k">static</span> <span class="k">constexpr</span> <span class="n">GUID</span> <span class="n">TRAP_GUID_ZAxis</span> <span class="o">=</span>
        <span class="p">{</span> <span class="mh">0xa36d02e2</span><span class="p">,</span><span class="mh">0xc9f3</span><span class="p">,</span><span class="mh">0x11cf</span><span class="p">,{</span><span class="mh">0xbf</span><span class="p">,</span><span class="mh">0xc7</span><span class="p">,</span><span class="mh">0x44</span><span class="p">,</span><span class="mh">0x45</span><span class="p">,</span><span class="mh">0x53</span><span class="p">,</span><span class="mh">0x54</span><span class="p">,</span><span class="mh">0x00</span><span class="p">,</span><span class="mh">0x00</span><span class="p">}</span> <span class="p">};</span>
        <span class="k">static</span> <span class="k">constexpr</span> <span class="n">GUID</span> <span class="n">TRAP_GUID_RxAxis</span> <span class="o">=</span>
        <span class="p">{</span> <span class="mh">0xa36d02f4</span><span class="p">,</span><span class="mh">0xc9f3</span><span class="p">,</span><span class="mh">0x11cf</span><span class="p">,{</span><span class="mh">0xbf</span><span class="p">,</span><span class="mh">0xc7</span><span class="p">,</span><span class="mh">0x44</span><span class="p">,</span><span class="mh">0x45</span><span class="p">,</span><span class="mh">0x53</span><span class="p">,</span><span class="mh">0x54</span><span class="p">,</span><span class="mh">0x00</span><span class="p">,</span><span class="mh">0x00</span><span class="p">}</span> <span class="p">};</span>
        <span class="k">static</span> <span class="k">constexpr</span> <span class="n">GUID</span> <span class="n">TRAP_GUID_RyAxis</span> <span class="o">=</span>
        <span class="p">{</span> <span class="mh">0xa36d02f5</span><span class="p">,</span><span class="mh">0xc9f3</span><span class="p">,</span><span class="mh">0x11cf</span><span class="p">,{</span><span class="mh">0xbf</span><span class="p">,</span><span class="mh">0xc7</span><span class="p">,</span><span class="mh">0x44</span><span class="p">,</span><span class="mh">0x45</span><span class="p">,</span><span class="mh">0x53</span><span class="p">,</span><span class="mh">0x54</span><span class="p">,</span><span class="mh">0x00</span><span class="p">,</span><span class="mh">0x00</span><span class="p">}</span> <span class="p">};</span>
        <span class="k">static</span> <span class="k">constexpr</span> <span class="n">GUID</span> <span class="n">TRAP_GUID_RzAxis</span> <span class="o">=</span>
        <span class="p">{</span> <span class="mh">0xa36d02e3</span><span class="p">,</span><span class="mh">0xc9f3</span><span class="p">,</span><span class="mh">0x11cf</span><span class="p">,{</span><span class="mh">0xbf</span><span class="p">,</span><span class="mh">0xc7</span><span class="p">,</span><span class="mh">0x44</span><span class="p">,</span><span class="mh">0x45</span><span class="p">,</span><span class="mh">0x53</span><span class="p">,</span><span class="mh">0x54</span><span class="p">,</span><span class="mh">0x00</span><span class="p">,</span><span class="mh">0x00</span><span class="p">}</span> <span class="p">};</span>
        <span class="k">static</span> <span class="k">constexpr</span> <span class="n">GUID</span> <span class="n">TRAP_GUID_Slider</span> <span class="o">=</span>
        <span class="p">{</span> <span class="mh">0xa36d02e4</span><span class="p">,</span><span class="mh">0xc9f3</span><span class="p">,</span><span class="mh">0x11cf</span><span class="p">,{</span><span class="mh">0xbf</span><span class="p">,</span><span class="mh">0xc7</span><span class="p">,</span><span class="mh">0x44</span><span class="p">,</span><span class="mh">0x45</span><span class="p">,</span><span class="mh">0x53</span><span class="p">,</span><span class="mh">0x54</span><span class="p">,</span><span class="mh">0x00</span><span class="p">,</span><span class="mh">0x00</span><span class="p">}</span> <span class="p">};</span>
        <span class="k">static</span> <span class="k">constexpr</span> <span class="n">GUID</span> <span class="n">TRAP_GUID_DPad</span> <span class="o">=</span>
        <span class="p">{</span> <span class="mh">0xa36d02f2</span><span class="p">,</span><span class="mh">0xc9f3</span><span class="p">,</span><span class="mh">0x11cf</span><span class="p">,{</span><span class="mh">0xbf</span><span class="p">,</span><span class="mh">0xc7</span><span class="p">,</span><span class="mh">0x44</span><span class="p">,</span><span class="mh">0x45</span><span class="p">,</span><span class="mh">0x53</span><span class="p">,</span><span class="mh">0x54</span><span class="p">,</span><span class="mh">0x00</span><span class="p">,</span><span class="mh">0x00</span><span class="p">}</span> <span class="p">};</span>
        <span class="c1">//Object data array for our clone of c_dfDIJoystick</span>
        <span class="kr">inline</span> <span class="k">static</span> <span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="n">DIOBJECTDATAFORMAT</span><span class="p">,</span> <span class="mi">44</span><span class="o">&gt;</span> <span class="n">TRAPObjectDataFormats</span> <span class="o">=</span>
        <span class="p">{</span>
            <span class="p">{</span>
                <span class="p">{</span> <span class="o">&amp;</span><span class="n">TRAP_GUID_XAxis</span><span class="p">,</span><span class="n">DIJOFS_X</span><span class="p">,</span><span class="n">DIDFT_AXIS</span> <span class="o">|</span> <span class="n">DIDFT_OPTIONAL</span> <span class="o">|</span> <span class="n">DIDFT_ANYINSTANCE</span><span class="p">,</span><span class="n">DIDOI_ASPECTPOSITION</span> <span class="p">},</span>
                <span class="p">{</span> <span class="o">&amp;</span><span class="n">TRAP_GUID_YAxis</span><span class="p">,</span><span class="n">DIJOFS_Y</span><span class="p">,</span><span class="n">DIDFT_AXIS</span> <span class="o">|</span> <span class="n">DIDFT_OPTIONAL</span> <span class="o">|</span> <span class="n">DIDFT_ANYINSTANCE</span><span class="p">,</span><span class="n">DIDOI_ASPECTPOSITION</span> <span class="p">},</span>
                <span class="p">{</span> <span class="o">&amp;</span><span class="n">TRAP_GUID_ZAxis</span><span class="p">,</span><span class="n">DIJOFS_Z</span><span class="p">,</span><span class="n">DIDFT_AXIS</span> <span class="o">|</span> <span class="n">DIDFT_OPTIONAL</span> <span class="o">|</span> <span class="n">DIDFT_ANYINSTANCE</span><span class="p">,</span><span class="n">DIDOI_ASPECTPOSITION</span> <span class="p">},</span>
                <span class="p">{</span> <span class="o">&amp;</span><span class="n">TRAP_GUID_RxAxis</span><span class="p">,</span><span class="n">DIJOFS_RX</span><span class="p">,</span><span class="n">DIDFT_AXIS</span> <span class="o">|</span> <span class="n">DIDFT_OPTIONAL</span> <span class="o">|</span> <span class="n">DIDFT_ANYINSTANCE</span><span class="p">,</span><span class="n">DIDOI_ASPECTPOSITION</span> <span class="p">},</span>
                <span class="p">{</span> <span class="o">&amp;</span><span class="n">TRAP_GUID_RyAxis</span><span class="p">,</span><span class="n">DIJOFS_RY</span><span class="p">,</span><span class="n">DIDFT_AXIS</span> <span class="o">|</span> <span class="n">DIDFT_OPTIONAL</span> <span class="o">|</span> <span class="n">DIDFT_ANYINSTANCE</span><span class="p">,</span><span class="n">DIDOI_ASPECTPOSITION</span> <span class="p">},</span>
                <span class="p">{</span> <span class="o">&amp;</span><span class="n">TRAP_GUID_RzAxis</span><span class="p">,</span><span class="n">DIJOFS_RZ</span><span class="p">,</span><span class="n">DIDFT_AXIS</span> <span class="o">|</span> <span class="n">DIDFT_OPTIONAL</span> <span class="o">|</span> <span class="n">DIDFT_ANYINSTANCE</span><span class="p">,</span><span class="n">DIDOI_ASPECTPOSITION</span> <span class="p">},</span>
                <span class="p">{</span> <span class="o">&amp;</span><span class="n">TRAP_GUID_Slider</span><span class="p">,</span><span class="n">DIJOFS_SLIDER</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="n">DIDFT_AXIS</span> <span class="o">|</span> <span class="n">DIDFT_OPTIONAL</span> <span class="o">|</span> <span class="n">DIDFT_ANYINSTANCE</span><span class="p">,</span><span class="n">DIDOI_ASPECTPOSITION</span> <span class="p">},</span>
                <span class="p">{</span> <span class="o">&amp;</span><span class="n">TRAP_GUID_Slider</span><span class="p">,</span><span class="n">DIJOFS_SLIDER</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="n">DIDFT_AXIS</span> <span class="o">|</span> <span class="n">DIDFT_OPTIONAL</span> <span class="o">|</span> <span class="n">DIDFT_ANYINSTANCE</span><span class="p">,</span><span class="n">DIDOI_ASPECTPOSITION</span> <span class="p">},</span>
                <span class="p">{</span> <span class="o">&amp;</span><span class="n">TRAP_GUID_DPad</span><span class="p">,</span><span class="n">DIJOFS_POV</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="n">DIDFT_POV</span> <span class="o">|</span> <span class="n">DIDFT_OPTIONAL</span> <span class="o">|</span> <span class="n">DIDFT_ANYINSTANCE</span><span class="p">,</span><span class="mi">0</span> <span class="p">},</span>
                <span class="p">{</span> <span class="o">&amp;</span><span class="n">TRAP_GUID_DPad</span><span class="p">,</span><span class="n">DIJOFS_POV</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="n">DIDFT_POV</span> <span class="o">|</span> <span class="n">DIDFT_OPTIONAL</span> <span class="o">|</span> <span class="n">DIDFT_ANYINSTANCE</span><span class="p">,</span><span class="mi">0</span> <span class="p">},</span>
                <span class="p">{</span> <span class="o">&amp;</span><span class="n">TRAP_GUID_DPad</span><span class="p">,</span><span class="n">DIJOFS_POV</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="n">DIDFT_POV</span> <span class="o">|</span> <span class="n">DIDFT_OPTIONAL</span> <span class="o">|</span> <span class="n">DIDFT_ANYINSTANCE</span><span class="p">,</span><span class="mi">0</span> <span class="p">},</span>
                <span class="p">{</span> <span class="o">&amp;</span><span class="n">TRAP_GUID_DPad</span><span class="p">,</span><span class="n">DIJOFS_POV</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="n">DIDFT_POV</span> <span class="o">|</span> <span class="n">DIDFT_OPTIONAL</span> <span class="o">|</span> <span class="n">DIDFT_ANYINSTANCE</span><span class="p">,</span><span class="mi">0</span> <span class="p">},</span>
                <span class="p">{</span> <span class="k">nullptr</span><span class="p">,</span><span class="n">DIJOFS_BUTTON</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="n">DIDFT_BUTTON</span> <span class="o">|</span> <span class="n">DIDFT_OPTIONAL</span> <span class="o">|</span> <span class="n">DIDFT_ANYINSTANCE</span><span class="p">,</span><span class="mi">0</span> <span class="p">},</span>
                <span class="p">{</span> <span class="k">nullptr</span><span class="p">,</span><span class="n">DIJOFS_BUTTON</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="n">DIDFT_BUTTON</span> <span class="o">|</span> <span class="n">DIDFT_OPTIONAL</span> <span class="o">|</span> <span class="n">DIDFT_ANYINSTANCE</span><span class="p">,</span><span class="mi">0</span> <span class="p">},</span>
                <span class="p">{</span> <span class="k">nullptr</span><span class="p">,</span><span class="n">DIJOFS_BUTTON</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="n">DIDFT_BUTTON</span> <span class="o">|</span> <span class="n">DIDFT_OPTIONAL</span> <span class="o">|</span> <span class="n">DIDFT_ANYINSTANCE</span><span class="p">,</span><span class="mi">0</span> <span class="p">},</span>
                <span class="p">{</span> <span class="k">nullptr</span><span class="p">,</span><span class="n">DIJOFS_BUTTON</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="n">DIDFT_BUTTON</span> <span class="o">|</span> <span class="n">DIDFT_OPTIONAL</span> <span class="o">|</span> <span class="n">DIDFT_ANYINSTANCE</span><span class="p">,</span><span class="mi">0</span> <span class="p">},</span>
                <span class="p">{</span> <span class="k">nullptr</span><span class="p">,</span><span class="n">DIJOFS_BUTTON</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span><span class="n">DIDFT_BUTTON</span> <span class="o">|</span> <span class="n">DIDFT_OPTIONAL</span> <span class="o">|</span> <span class="n">DIDFT_ANYINSTANCE</span><span class="p">,</span><span class="mi">0</span> <span class="p">},</span>
                <span class="p">{</span> <span class="k">nullptr</span><span class="p">,</span><span class="n">DIJOFS_BUTTON</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span><span class="n">DIDFT_BUTTON</span> <span class="o">|</span> <span class="n">DIDFT_OPTIONAL</span> <span class="o">|</span> <span class="n">DIDFT_ANYINSTANCE</span><span class="p">,</span><span class="mi">0</span> <span class="p">},</span>
                <span class="p">{</span> <span class="k">nullptr</span><span class="p">,</span><span class="n">DIJOFS_BUTTON</span><span class="p">(</span><span class="mi">6</span><span class="p">),</span><span class="n">DIDFT_BUTTON</span> <span class="o">|</span> <span class="n">DIDFT_OPTIONAL</span> <span class="o">|</span> <span class="n">DIDFT_ANYINSTANCE</span><span class="p">,</span><span class="mi">0</span> <span class="p">},</span>
                <span class="p">{</span> <span class="k">nullptr</span><span class="p">,</span><span class="n">DIJOFS_BUTTON</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span><span class="n">DIDFT_BUTTON</span> <span class="o">|</span> <span class="n">DIDFT_OPTIONAL</span> <span class="o">|</span> <span class="n">DIDFT_ANYINSTANCE</span><span class="p">,</span><span class="mi">0</span> <span class="p">},</span>
                <span class="p">{</span> <span class="k">nullptr</span><span class="p">,</span><span class="n">DIJOFS_BUTTON</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span><span class="n">DIDFT_BUTTON</span> <span class="o">|</span> <span class="n">DIDFT_OPTIONAL</span> <span class="o">|</span> <span class="n">DIDFT_ANYINSTANCE</span><span class="p">,</span><span class="mi">0</span> <span class="p">},</span>
                <span class="p">{</span> <span class="k">nullptr</span><span class="p">,</span><span class="n">DIJOFS_BUTTON</span><span class="p">(</span><span class="mi">9</span><span class="p">),</span><span class="n">DIDFT_BUTTON</span> <span class="o">|</span> <span class="n">DIDFT_OPTIONAL</span> <span class="o">|</span> <span class="n">DIDFT_ANYINSTANCE</span><span class="p">,</span><span class="mi">0</span> <span class="p">},</span>
                <span class="p">{</span> <span class="k">nullptr</span><span class="p">,</span><span class="n">DIJOFS_BUTTON</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span><span class="n">DIDFT_BUTTON</span> <span class="o">|</span> <span class="n">DIDFT_OPTIONAL</span> <span class="o">|</span> <span class="n">DIDFT_ANYINSTANCE</span><span class="p">,</span><span class="mi">0</span> <span class="p">},</span>
                <span class="p">{</span> <span class="k">nullptr</span><span class="p">,</span><span class="n">DIJOFS_BUTTON</span><span class="p">(</span><span class="mi">11</span><span class="p">),</span><span class="n">DIDFT_BUTTON</span> <span class="o">|</span> <span class="n">DIDFT_OPTIONAL</span> <span class="o">|</span> <span class="n">DIDFT_ANYINSTANCE</span><span class="p">,</span><span class="mi">0</span> <span class="p">},</span>
                <span class="p">{</span> <span class="k">nullptr</span><span class="p">,</span><span class="n">DIJOFS_BUTTON</span><span class="p">(</span><span class="mi">12</span><span class="p">),</span><span class="n">DIDFT_BUTTON</span> <span class="o">|</span> <span class="n">DIDFT_OPTIONAL</span> <span class="o">|</span> <span class="n">DIDFT_ANYINSTANCE</span><span class="p">,</span><span class="mi">0</span> <span class="p">},</span>
                <span class="p">{</span> <span class="k">nullptr</span><span class="p">,</span><span class="n">DIJOFS_BUTTON</span><span class="p">(</span><span class="mi">13</span><span class="p">),</span><span class="n">DIDFT_BUTTON</span> <span class="o">|</span> <span class="n">DIDFT_OPTIONAL</span> <span class="o">|</span> <span class="n">DIDFT_ANYINSTANCE</span><span class="p">,</span><span class="mi">0</span> <span class="p">},</span>
                <span class="p">{</span> <span class="k">nullptr</span><span class="p">,</span><span class="n">DIJOFS_BUTTON</span><span class="p">(</span><span class="mi">14</span><span class="p">),</span><span class="n">DIDFT_BUTTON</span> <span class="o">|</span> <span class="n">DIDFT_OPTIONAL</span> <span class="o">|</span> <span class="n">DIDFT_ANYINSTANCE</span><span class="p">,</span><span class="mi">0</span> <span class="p">},</span>
                <span class="p">{</span> <span class="k">nullptr</span><span class="p">,</span><span class="n">DIJOFS_BUTTON</span><span class="p">(</span><span class="mi">15</span><span class="p">),</span><span class="n">DIDFT_BUTTON</span> <span class="o">|</span> <span class="n">DIDFT_OPTIONAL</span> <span class="o">|</span> <span class="n">DIDFT_ANYINSTANCE</span><span class="p">,</span><span class="mi">0</span> <span class="p">},</span>
                <span class="p">{</span> <span class="k">nullptr</span><span class="p">,</span><span class="n">DIJOFS_BUTTON</span><span class="p">(</span><span class="mi">16</span><span class="p">),</span><span class="n">DIDFT_BUTTON</span> <span class="o">|</span> <span class="n">DIDFT_OPTIONAL</span> <span class="o">|</span> <span class="n">DIDFT_ANYINSTANCE</span><span class="p">,</span><span class="mi">0</span> <span class="p">},</span>
                <span class="p">{</span> <span class="k">nullptr</span><span class="p">,</span><span class="n">DIJOFS_BUTTON</span><span class="p">(</span><span class="mi">17</span><span class="p">),</span><span class="n">DIDFT_BUTTON</span> <span class="o">|</span> <span class="n">DIDFT_OPTIONAL</span> <span class="o">|</span> <span class="n">DIDFT_ANYINSTANCE</span><span class="p">,</span><span class="mi">0</span> <span class="p">},</span>
                <span class="p">{</span> <span class="k">nullptr</span><span class="p">,</span><span class="n">DIJOFS_BUTTON</span><span class="p">(</span><span class="mi">18</span><span class="p">),</span><span class="n">DIDFT_BUTTON</span> <span class="o">|</span> <span class="n">DIDFT_OPTIONAL</span> <span class="o">|</span> <span class="n">DIDFT_ANYINSTANCE</span><span class="p">,</span><span class="mi">0</span> <span class="p">},</span>
                <span class="p">{</span> <span class="k">nullptr</span><span class="p">,</span><span class="n">DIJOFS_BUTTON</span><span class="p">(</span><span class="mi">19</span><span class="p">),</span><span class="n">DIDFT_BUTTON</span> <span class="o">|</span> <span class="n">DIDFT_OPTIONAL</span> <span class="o">|</span> <span class="n">DIDFT_ANYINSTANCE</span><span class="p">,</span><span class="mi">0</span> <span class="p">},</span>
                <span class="p">{</span> <span class="k">nullptr</span><span class="p">,</span><span class="n">DIJOFS_BUTTON</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span><span class="n">DIDFT_BUTTON</span> <span class="o">|</span> <span class="n">DIDFT_OPTIONAL</span> <span class="o">|</span> <span class="n">DIDFT_ANYINSTANCE</span><span class="p">,</span><span class="mi">0</span> <span class="p">},</span>
                <span class="p">{</span> <span class="k">nullptr</span><span class="p">,</span><span class="n">DIJOFS_BUTTON</span><span class="p">(</span><span class="mi">21</span><span class="p">),</span><span class="n">DIDFT_BUTTON</span> <span class="o">|</span> <span class="n">DIDFT_OPTIONAL</span> <span class="o">|</span> <span class="n">DIDFT_ANYINSTANCE</span><span class="p">,</span><span class="mi">0</span> <span class="p">},</span>
                <span class="p">{</span> <span class="k">nullptr</span><span class="p">,</span><span class="n">DIJOFS_BUTTON</span><span class="p">(</span><span class="mi">22</span><span class="p">),</span><span class="n">DIDFT_BUTTON</span> <span class="o">|</span> <span class="n">DIDFT_OPTIONAL</span> <span class="o">|</span> <span class="n">DIDFT_ANYINSTANCE</span><span class="p">,</span><span class="mi">0</span> <span class="p">},</span>
                <span class="p">{</span> <span class="k">nullptr</span><span class="p">,</span><span class="n">DIJOFS_BUTTON</span><span class="p">(</span><span class="mi">23</span><span class="p">),</span><span class="n">DIDFT_BUTTON</span> <span class="o">|</span> <span class="n">DIDFT_OPTIONAL</span> <span class="o">|</span> <span class="n">DIDFT_ANYINSTANCE</span><span class="p">,</span><span class="mi">0</span> <span class="p">},</span>
                <span class="p">{</span> <span class="k">nullptr</span><span class="p">,</span><span class="n">DIJOFS_BUTTON</span><span class="p">(</span><span class="mi">24</span><span class="p">),</span><span class="n">DIDFT_BUTTON</span> <span class="o">|</span> <span class="n">DIDFT_OPTIONAL</span> <span class="o">|</span> <span class="n">DIDFT_ANYINSTANCE</span><span class="p">,</span><span class="mi">0</span> <span class="p">},</span>
                <span class="p">{</span> <span class="k">nullptr</span><span class="p">,</span><span class="n">DIJOFS_BUTTON</span><span class="p">(</span><span class="mi">25</span><span class="p">),</span><span class="n">DIDFT_BUTTON</span> <span class="o">|</span> <span class="n">DIDFT_OPTIONAL</span> <span class="o">|</span> <span class="n">DIDFT_ANYINSTANCE</span><span class="p">,</span><span class="mi">0</span> <span class="p">},</span>
                <span class="p">{</span> <span class="k">nullptr</span><span class="p">,</span><span class="n">DIJOFS_BUTTON</span><span class="p">(</span><span class="mi">26</span><span class="p">),</span><span class="n">DIDFT_BUTTON</span> <span class="o">|</span> <span class="n">DIDFT_OPTIONAL</span> <span class="o">|</span> <span class="n">DIDFT_ANYINSTANCE</span><span class="p">,</span><span class="mi">0</span> <span class="p">},</span>
                <span class="p">{</span> <span class="k">nullptr</span><span class="p">,</span><span class="n">DIJOFS_BUTTON</span><span class="p">(</span><span class="mi">27</span><span class="p">),</span><span class="n">DIDFT_BUTTON</span> <span class="o">|</span> <span class="n">DIDFT_OPTIONAL</span> <span class="o">|</span> <span class="n">DIDFT_ANYINSTANCE</span><span class="p">,</span><span class="mi">0</span> <span class="p">},</span>
                <span class="p">{</span> <span class="k">nullptr</span><span class="p">,</span><span class="n">DIJOFS_BUTTON</span><span class="p">(</span><span class="mi">28</span><span class="p">),</span><span class="n">DIDFT_BUTTON</span> <span class="o">|</span> <span class="n">DIDFT_OPTIONAL</span> <span class="o">|</span> <span class="n">DIDFT_ANYINSTANCE</span><span class="p">,</span><span class="mi">0</span> <span class="p">},</span>
                <span class="p">{</span> <span class="k">nullptr</span><span class="p">,</span><span class="n">DIJOFS_BUTTON</span><span class="p">(</span><span class="mi">29</span><span class="p">),</span><span class="n">DIDFT_BUTTON</span> <span class="o">|</span> <span class="n">DIDFT_OPTIONAL</span> <span class="o">|</span> <span class="n">DIDFT_ANYINSTANCE</span><span class="p">,</span><span class="mi">0</span> <span class="p">},</span>
                <span class="p">{</span> <span class="k">nullptr</span><span class="p">,</span><span class="n">DIJOFS_BUTTON</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span><span class="n">DIDFT_BUTTON</span> <span class="o">|</span> <span class="n">DIDFT_OPTIONAL</span> <span class="o">|</span> <span class="n">DIDFT_ANYINSTANCE</span><span class="p">,</span><span class="mi">0</span> <span class="p">},</span>
                <span class="p">{</span> <span class="k">nullptr</span><span class="p">,</span><span class="n">DIJOFS_BUTTON</span><span class="p">(</span><span class="mi">31</span><span class="p">),</span><span class="n">DIDFT_BUTTON</span> <span class="o">|</span> <span class="n">DIDFT_OPTIONAL</span> <span class="o">|</span> <span class="n">DIDFT_ANYINSTANCE</span><span class="p">,</span><span class="mi">0</span> <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">};</span>
        <span class="c1">//Our clone of c_dfDIJoystick</span>
        <span class="kr">inline</span> <span class="k">static</span> <span class="k">const</span> <span class="n">DIDATAFORMAT</span> <span class="n">TRAPDataFormat</span> <span class="o">=</span>
        <span class="p">{</span>
            <span class="k">sizeof</span><span class="p">(</span><span class="n">DIDATAFORMAT</span><span class="p">),</span>
            <span class="k">sizeof</span><span class="p">(</span><span class="n">DIOBJECTDATAFORMAT</span><span class="p">),</span>
            <span class="n">DIDFT_ABSAXIS</span><span class="p">,</span>
            <span class="k">sizeof</span><span class="p">(</span><span class="n">DIJOYSTATE</span><span class="p">),</span>
            <span class="k">static_cast</span><span class="o">&lt;</span><span class="n">DWORD</span><span class="o">&gt;</span><span class="p">(</span><span class="n">TRAPObjectDataFormats</span><span class="p">.</span><span class="n">size</span><span class="p">()),</span>
            <span class="k">const_cast</span><span class="o">&lt;</span><span class="n">DIOBJECTDATAFORMAT</span><span class="o">*&gt;</span><span class="p">(</span><span class="n">TRAPObjectDataFormats</span><span class="p">.</span><span class="n">data</span><span class="p">())</span>
        <span class="p">};</span>
        <span class="k">typedef</span> <span class="nf">HRESULT</span><span class="p">(</span><span class="n">WINAPI</span><span class="o">*</span> <span class="n">PFN_DirectInput8Create</span><span class="p">)(</span><span class="n">HINSTANCE</span><span class="p">,</span> <span class="n">DWORD</span><span class="p">,</span> <span class="n">REFIID</span><span class="p">,</span> <span class="n">LPVOID</span><span class="o">*</span><span class="p">,</span> <span class="n">LPUNKNOWN</span><span class="p">);</span>
        <span class="k">struct</span> <span class="n">DInput8</span>
        <span class="p">{</span>
            <span class="n">HINSTANCE</span> <span class="n">Instance</span><span class="p">{};</span>
            <span class="n">PFN_DirectInput8Create</span> <span class="n">Create</span><span class="p">{};</span>
            <span class="n">IDirectInput8W</span><span class="o">*</span> <span class="n">API</span> <span class="o">=</span> <span class="k">nullptr</span><span class="p">;</span>
        <span class="p">}</span> <span class="kr">inline</span> <span class="k">static</span> <span class="n">s_dinput8</span><span class="p">{};</span>

        <span class="c1">//XInput//</span>
        <span class="c1">//xinput.dll function pointer typedefs</span>
        <span class="k">static</span> <span class="k">constexpr</span> <span class="kt">uint32_t</span> <span class="n">TRAP_XINPUT_CAPS_WIRELESS</span> <span class="o">=</span> <span class="mh">0x0002</span><span class="p">;</span>
        <span class="k">static</span> <span class="k">constexpr</span> <span class="kt">uint32_t</span> <span class="n">TRAP_XINPUT_DEVSUBTYPE_WHEEL</span> <span class="o">=</span> <span class="mh">0x02</span><span class="p">;</span>
        <span class="k">static</span> <span class="k">constexpr</span> <span class="kt">uint32_t</span> <span class="n">TRAP_XINPUT_DEVSUBTYPE_ARCADE_STICK</span> <span class="o">=</span> <span class="mh">0x03</span><span class="p">;</span>
        <span class="k">static</span> <span class="k">constexpr</span> <span class="kt">uint32_t</span> <span class="n">TRAP_XINPUT_DEVSUBTYPE_FLIGHT_STICK</span> <span class="o">=</span> <span class="mh">0x04</span><span class="p">;</span>
        <span class="k">static</span> <span class="k">constexpr</span> <span class="kt">uint32_t</span> <span class="n">TRAP_XINPUT_DEVSUBTYPE_DANCE_PAD</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">;</span>
        <span class="k">static</span> <span class="k">constexpr</span> <span class="kt">uint32_t</span> <span class="n">TRAP_XINPUT_DEVSUBTYPE_GUITAR</span> <span class="o">=</span> <span class="mh">0x06</span><span class="p">;</span>
        <span class="k">static</span> <span class="k">constexpr</span> <span class="kt">uint32_t</span> <span class="n">TRAP_XINPUT_DEVSUBTYPE_DRUM_KIT</span> <span class="o">=</span> <span class="mh">0x08</span><span class="p">;</span>
        <span class="k">static</span> <span class="k">constexpr</span> <span class="kt">uint32_t</span> <span class="n">TRAP_XINPUT_DEVSUBTYPE_ARCADE_PAD</span> <span class="o">=</span> <span class="mh">0x13</span><span class="p">;</span>
        <span class="k">static</span> <span class="k">constexpr</span> <span class="kt">uint32_t</span> <span class="n">TRAP_XUSER_MAX_COUNT</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
        <span class="k">typedef</span> <span class="nf">DWORD</span><span class="p">(</span><span class="n">WINAPI</span><span class="o">*</span> <span class="n">PFN_XInputGetCapabilities</span><span class="p">)(</span><span class="n">DWORD</span><span class="p">,</span> <span class="n">DWORD</span><span class="p">,</span> <span class="n">XINPUT_CAPABILITIES</span><span class="o">*</span><span class="p">);</span>
        <span class="k">typedef</span> <span class="nf">DWORD</span><span class="p">(</span><span class="n">WINAPI</span><span class="o">*</span> <span class="n">PFN_XInputGetState</span><span class="p">)(</span><span class="n">DWORD</span><span class="p">,</span> <span class="n">XINPUT_STATE</span><span class="o">*</span><span class="p">);</span>
        <span class="k">typedef</span> <span class="nf">DWORD</span><span class="p">(</span><span class="n">WINAPI</span><span class="o">*</span> <span class="n">PFN_XInputSetState</span><span class="p">)(</span><span class="n">DWORD</span><span class="p">,</span> <span class="n">XINPUT_VIBRATION</span><span class="o">*</span><span class="p">);</span>
        <span class="k">static</span> <span class="n">BOOL</span> <span class="n">CALLBACK</span> <span class="nf">DeviceObjectCallback</span><span class="p">(</span><span class="k">const</span> <span class="n">DIDEVICEOBJECTINSTANCEW</span><span class="o">*</span> <span class="n">doi</span><span class="p">,</span> <span class="kt">void</span><span class="o">*</span> <span class="n">user</span><span class="p">);</span>
        <span class="k">static</span> <span class="kt">int</span> <span class="nf">CompareControllerObjects</span><span class="p">(</span><span class="k">const</span> <span class="kt">void</span><span class="o">*</span> <span class="n">first</span><span class="p">,</span> <span class="k">const</span> <span class="kt">void</span><span class="o">*</span> <span class="n">second</span><span class="p">);</span>
        <span class="k">static</span> <span class="n">BOOL</span> <span class="n">CALLBACK</span> <span class="nf">DeviceCallback</span><span class="p">(</span><span class="k">const</span> <span class="n">DIDEVICEINSTANCE</span><span class="o">*</span> <span class="n">deviceInstance</span><span class="p">,</span> <span class="kt">void</span><span class="o">*</span> <span class="n">user</span><span class="p">);</span>
        <span class="k">static</span> <span class="kt">bool</span> <span class="nf">SupportsXInput</span><span class="p">(</span><span class="k">const</span> <span class="n">GUID</span><span class="o">*</span> <span class="n">guid</span><span class="p">);</span>
        <span class="k">static</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">GetDeviceDescription</span><span class="p">(</span><span class="k">const</span> <span class="n">XINPUT_CAPABILITIES</span><span class="o">*</span> <span class="n">xic</span><span class="p">);</span>
        <span class="k">struct</span> <span class="n">XInput</span>
        <span class="p">{</span>
            <span class="n">HINSTANCE</span> <span class="n">Instance</span><span class="p">{};</span>
            <span class="n">PFN_XInputGetCapabilities</span> <span class="n">GetCapabilities</span><span class="p">{};</span>
            <span class="n">PFN_XInputGetState</span> <span class="n">GetState</span><span class="p">{};</span>
            <span class="n">PFN_XInputSetState</span> <span class="n">SetState</span><span class="p">{};</span>
        <span class="p">}</span> <span class="kr">inline</span> <span class="k">static</span> <span class="n">s_xinput</span><span class="p">{};</span>

        <span class="k">struct</span> <span class="n">Object</span>
        <span class="p">{</span>
            <span class="kt">int32_t</span> <span class="n">Offset</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="kt">int32_t</span> <span class="n">Type</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="p">};</span>
        <span class="k">struct</span> <span class="n">ControllerWindows</span>
        <span class="p">{</span>
            <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;</span> <span class="n">Objects</span><span class="p">{};</span>
            <span class="kt">int32_t</span> <span class="n">ObjectCount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="n">IDirectInputDevice8W</span><span class="o">*</span> <span class="n">Device</span> <span class="o">=</span> <span class="k">nullptr</span><span class="p">;</span>
            <span class="n">DWORD</span> <span class="n">Index</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="n">GUID</span> <span class="n">guid</span><span class="p">{};</span>
            <span class="kt">bool</span> <span class="n">XInput</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
        <span class="p">};</span>
        <span class="k">struct</span> <span class="n">ObjectEnum</span>
        <span class="p">{</span>
            <span class="n">IDirectInputDevice8W</span><span class="o">*</span> <span class="n">Device</span> <span class="o">=</span> <span class="k">nullptr</span><span class="p">;</span>
            <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;</span> <span class="n">Objects</span><span class="p">;</span>
            <span class="kt">int32_t</span> <span class="n">ObjectCount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="kt">int32_t</span> <span class="n">AxisCount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="kt">int32_t</span> <span class="n">SliderCount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="kt">int32_t</span> <span class="n">ButtonCount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="kt">int32_t</span> <span class="n">PoVCount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="p">};</span>
<span class="cp">#elif defined(TRAP_PLATFORM_LINUX)</span>
        <span class="k">static</span> <span class="k">constexpr</span> <span class="n">std</span><span class="o">::</span><span class="n">string_view</span> <span class="n">MappingName</span> <span class="o">=</span> <span class="s">&quot;Linux&quot;</span><span class="p">;</span>
        <span class="k">struct</span> <span class="n">ControllerInternal</span><span class="p">;</span>
        <span class="k">static</span> <span class="kt">bool</span> <span class="nf">OpenControllerDeviceLinux</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">path</span><span class="p">);</span>
        <span class="k">static</span> <span class="kt">void</span> <span class="nf">PollABSStateLinux</span><span class="p">(</span><span class="n">ControllerInternal</span><span class="o">*</span> <span class="n">js</span><span class="p">);</span>
        <span class="k">static</span> <span class="kt">void</span> <span class="nf">HandleABSEventLinux</span><span class="p">(</span><span class="n">ControllerInternal</span><span class="o">*</span> <span class="n">js</span><span class="p">,</span> <span class="kt">int32_t</span> <span class="n">code</span><span class="p">,</span> <span class="kt">int32_t</span> <span class="n">value</span><span class="p">);</span>
        <span class="k">static</span> <span class="kt">void</span> <span class="nf">HandleKeyEventLinux</span><span class="p">(</span><span class="n">ControllerInternal</span><span class="o">*</span> <span class="n">js</span><span class="p">,</span> <span class="kt">int32_t</span> <span class="n">code</span><span class="p">,</span> <span class="kt">int32_t</span> <span class="n">value</span><span class="p">);</span>
        <span class="k">struct</span> <span class="n">ControllerLinuxLibrary</span>
        <span class="p">{</span>
            <span class="kt">int32_t</span> <span class="n">INotify</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="kt">int32_t</span> <span class="n">Watch</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="n">regex_t</span> <span class="n">Regex</span><span class="p">{};</span>
            <span class="kt">bool</span> <span class="n">Dropped</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
        <span class="p">};</span>
        <span class="k">static</span> <span class="n">ControllerLinuxLibrary</span> <span class="n">s_linuxController</span><span class="p">;</span>
        <span class="k">struct</span> <span class="n">ControllerLinux</span>
        <span class="p">{</span>
            <span class="kt">int32_t</span> <span class="n">FD</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="kt">bool</span> <span class="n">VibrationSupported</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
            <span class="kt">int16_t</span> <span class="n">CurrentVibration</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
            <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">Path</span><span class="p">{};</span>
            <span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="kt">int32_t</span><span class="p">,</span> <span class="n">KEY_CNT</span> <span class="o">-</span> <span class="n">BTN_MISC</span><span class="o">&gt;</span> <span class="n">KeyMap</span><span class="p">{};</span>
            <span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="kt">int32_t</span><span class="p">,</span> <span class="n">ABS_CNT</span><span class="o">&gt;</span> <span class="n">ABSMap</span><span class="p">{};</span>
            <span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="k">struct</span> <span class="n">input_absinfo</span><span class="p">,</span> <span class="n">ABS_CNT</span><span class="o">&gt;</span> <span class="n">ABSInfo</span><span class="p">{};</span>
            <span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="kt">int32_t</span><span class="p">,</span> <span class="mi">4</span><span class="o">&gt;</span><span class="p">,</span> <span class="mi">2</span><span class="o">&gt;</span> <span class="n">DPads</span><span class="p">{};</span>
        <span class="p">};</span>
<span class="cp">#endif</span>

        <span class="k">static</span> <span class="n">EventCallbackFn</span> <span class="n">s_eventCallback</span><span class="p">;</span>

        <span class="c1">//Controller mapping element</span>
        <span class="k">struct</span> <span class="n">MapElement</span>
        <span class="p">{</span>
            <span class="kt">uint8_t</span> <span class="n">Type</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="kt">uint8_t</span> <span class="n">Index</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="kt">int8_t</span> <span class="n">AxisScale</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="kt">int8_t</span> <span class="n">AxisOffset</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="p">};</span>

        <span class="c1">//Controller mapping</span>
        <span class="k">struct</span> <span class="n">Mapping</span>
        <span class="p">{</span>
            <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">Name</span><span class="p">{};</span>
            <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">guid</span><span class="p">{};</span>
            <span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="n">MapElement</span><span class="p">,</span> <span class="mi">15</span><span class="o">&gt;</span> <span class="n">Buttons</span><span class="p">{};</span>
            <span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="n">MapElement</span><span class="p">,</span> <span class="mi">6</span><span class="o">&gt;</span> <span class="n">Axes</span><span class="p">{};</span>
        <span class="p">};</span>

        <span class="k">struct</span> <span class="n">ControllerInternal</span>
        <span class="p">{</span>
            <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span> <span class="n">Axes</span><span class="p">{};</span>
            <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">Buttons</span><span class="p">{};</span>
            <span class="kt">int32_t</span> <span class="n">ButtonCount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">ControllerDPad</span><span class="o">&gt;</span> <span class="n">DPads</span><span class="p">{};</span>
            <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">Name</span><span class="p">{};</span>
            <span class="kt">void</span><span class="o">*</span> <span class="n">UserPointer</span> <span class="o">=</span> <span class="k">nullptr</span><span class="p">;</span>
            <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">guid</span><span class="p">{};</span>
            <span class="n">Mapping</span><span class="o">*</span> <span class="n">mapping</span> <span class="o">=</span> <span class="k">nullptr</span><span class="p">;</span>
            <span class="kt">bool</span> <span class="n">Connected</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
            <span class="kt">float</span> <span class="n">LeftMotor</span> <span class="o">=</span> <span class="mf">0.0f</span><span class="p">;</span>
            <span class="kt">float</span> <span class="n">RightMotor</span> <span class="o">=</span> <span class="mf">0.0f</span><span class="p">;</span>

<span class="cp">#ifdef TRAP_PLATFORM_WINDOWS</span>
            <span class="n">ControllerWindows</span> <span class="n">WinCon</span><span class="p">;</span>
<span class="cp">#elif defined(TRAP_PLATFORM_LINUX)</span>
            <span class="n">ControllerLinux</span> <span class="n">LinuxCon</span><span class="p">;</span>
<span class="cp">#endif</span>
        <span class="p">};</span>
        <span class="k">static</span> <span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="n">ControllerInternal</span><span class="p">,</span> <span class="mi">16</span><span class="o">&gt;</span> <span class="n">s_controllerInternal</span><span class="p">;</span>
        <span class="k">static</span> <span class="n">ControllerInternal</span><span class="o">*</span> <span class="nf">AddInternalController</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">name</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">guid</span><span class="p">,</span> <span class="kt">int32_t</span> <span class="n">axisCount</span><span class="p">,</span> <span class="kt">int32_t</span> <span class="n">buttonCount</span><span class="p">,</span> <span class="kt">int32_t</span> <span class="n">dpadCount</span><span class="p">);</span>
        <span class="k">static</span> <span class="kt">void</span> <span class="nf">InternalInputControllerDPad</span><span class="p">(</span><span class="n">ControllerInternal</span><span class="o">*</span> <span class="n">con</span><span class="p">,</span> <span class="kt">int32_t</span> <span class="n">dpad</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="n">value</span><span class="p">);</span>
        <span class="k">static</span> <span class="kt">void</span> <span class="nf">InternalInputControllerAxis</span><span class="p">(</span><span class="n">ControllerInternal</span><span class="o">*</span> <span class="n">con</span><span class="p">,</span> <span class="kt">int32_t</span> <span class="n">axis</span><span class="p">,</span> <span class="kt">float</span> <span class="n">value</span><span class="p">);</span>
        <span class="k">static</span> <span class="kt">void</span> <span class="nf">InternalInputControllerButton</span><span class="p">(</span><span class="n">ControllerInternal</span><span class="o">*</span> <span class="n">con</span><span class="p">,</span> <span class="kt">int32_t</span> <span class="n">button</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">pressed</span><span class="p">);</span>

        <span class="c1">//Mapping//</span>
        <span class="k">static</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Mapping</span><span class="o">&gt;</span> <span class="n">s_mappings</span><span class="p">;</span>

        <span class="k">static</span> <span class="kt">bool</span> <span class="nf">ParseMapping</span><span class="p">(</span><span class="n">Mapping</span><span class="o">&amp;</span> <span class="n">mapping</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">str</span><span class="p">);</span>
        <span class="k">static</span> <span class="n">Mapping</span><span class="o">*</span> <span class="nf">FindMapping</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">guid</span><span class="p">);</span>
        <span class="k">static</span> <span class="n">Mapping</span><span class="o">*</span> <span class="nf">FindValidMapping</span><span class="p">(</span><span class="k">const</span> <span class="n">ControllerInternal</span><span class="o">*</span> <span class="n">con</span><span class="p">);</span>
        <span class="k">static</span> <span class="kt">bool</span> <span class="nf">IsValidElementForController</span><span class="p">(</span><span class="k">const</span> <span class="n">MapElement</span><span class="o">*</span> <span class="n">e</span><span class="p">,</span> <span class="k">const</span> <span class="n">ControllerInternal</span><span class="o">*</span> <span class="n">con</span><span class="p">);</span>
        <span class="k">static</span> <span class="kt">bool</span> <span class="nf">GetMappedControllerButton</span><span class="p">(</span><span class="n">Controller</span> <span class="n">controller</span><span class="p">,</span> <span class="n">ControllerButton</span> <span class="n">button</span><span class="p">);</span>
        <span class="k">static</span> <span class="kt">float</span> <span class="nf">GetMappedControllerAxis</span><span class="p">(</span><span class="n">Controller</span> <span class="n">controller</span><span class="p">,</span> <span class="n">ControllerAxis</span> <span class="n">axis</span><span class="p">);</span>
        <span class="k">static</span> <span class="n">ControllerDPad</span> <span class="nf">GetMappedControllerDPad</span><span class="p">(</span><span class="n">Controller</span> <span class="n">controller</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="n">dpad</span><span class="p">);</span>
    <span class="p">};</span>
<span class="p">}</span>

<span class="cp">#endif </span><span class="cm">/*_TRAP_INPUT_H_*/</span><span class="cp"></span>
</pre></div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019-2020 Jan &#34;GamesTrap&#34; Schürkamp All Rights Reserved

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-154200595-2', 'auto');
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>